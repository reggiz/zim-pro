<!DOCTYPE html>
<html>
<!-- based on a Pen by Devilish Alchemist @ http://codepen.io/devilishalchemist/pen/LERvpM -->
<head>
  <meta charset="UTF-8">
  <title>3.4 файловый ввод вывод</title>

  <link rel="stylesheet" href="./resources/css/normalize.min.css">
  <link rel="stylesheet" href="./resources/css/whhg.css">
  <link rel="stylesheet" href="./resources/css/fonts.css">
  <link rel="stylesheet" href="./resources/css/style.css">

</head>

<body>
  <div class="page">

    <span id="view-toc" class="tooltip">&laquo; view index</span>
    <span id="view-content" class="tooltip">return to content &raquo;</span>
    <span id="view-next" class="tooltip">next page &raquo;</span>
    <span id="view-prev" class="tooltip">&laquo; previous page</span>

    <span class="menu_toggle">
      <i class="menu_open icon icon-th-list"></i>
      <i class="menu_close icon icon-import"></i>
    </span>

    <div id="navigation">
      <ul>
<li><a href="../../Git.html" title="Git" class="page">Git</a></li>
<li><a href="../../Python.html" title="Python" class="page">Python</a>
<ul>
<li><a href="../python_http.server.html" title="python http.server" class="page">python http.server</a></li>
<li><a href="../python_для_unl.html" title="python для unl" class="page">python для unl</a></li>
<li><a href="../курс_stepik_мои_решения.html" title="курс stepik мои решения" class="page">курс stepik мои решения</a>
<ul>
<li><a href="./1.10_условия_if_elif_else.html" title="1.10 условия if elif else" class="page">1.10 условия if elif else</a></li>
<li><a href="./2.2_цикл_while.html" title="2.2 цикл while" class="page">2.2 цикл while</a></li>
<li><a href="./2.3_цикл_for_range.html" title="2.3 цикл for range" class="page">2.3 цикл for range</a></li>
<li><a href="./2.4_строки_и_символы.html" title="2.4 строки и символы" class="page">2.4 строки и символы</a></li>
<li><a href="./2.5_списки.html" title="2.5 списки" class="page">2.5 списки</a></li>
<li><a href="./3.1_функции.html" title="3.1 функции" class="page">3.1 функции</a></li>
<li><a href="./3.2_словари.html" title="3.2 словари" class="page">3.2 словари</a></li>
<li><b>3.4 файловый ввод вывод</b></li>
</ul></li>
</ul></li>
<li><a href="../../Ruby_on_Rails.html" title="Ruby on Rails" class="page">Ruby on Rails</a></li>
<li><a href="../../Sphinx.html" title="Sphinx" class="page">Sphinx</a></li>
</ul>

      <span class="zimversion">
        <small>built with</small><br><strong>Zim 0.76.1</strong>
        <br>
        --
        <br>
        <a href="https://github.com/scar45/ResponsivePivot">template<br> on Github<br><i class="icon icon-github"></i></a>
      </span>
    </div>

    <main class="content">
      <div class="content_inner">
        <article>
          <header>
            <a id="navPrev" href='./3.2_словари.html'><span><i class="icon icon-chevron-left"></i></span></a>

            <a id="navHome" href='../../Home.html'><span><i class="icon icon-homealt"></i></span></a>

            <a id="navNext" href='../../Ruby_on_Rails.html'><span><i class="icon icon-chevron-right"></i></span></a>
          </header>

          <section>
            <div class="page-title">
              <h1><i class="icon icon-bookmarkalt"></i> 3.4 файловый ввод вывод <a name='Python:курс stepik мои решения:3.4 файловый ввод вывод'></a></h1>
            </div>
            <div class="fade fade-top"></div>
            <div class="page-body">
              <p>
Created вторник 22 Июнь 2021
</p>
<br>
<h4>1<a id="1" class="h_anchor"></a></h4>
<p>
Напишите программу, которая считывает из файла строку, соответствующую тексту, сжатому с помощью кодирования повторов, и производит обратную операцию, получая исходный текст.<br>
Запишите полученный текст в файл и прикрепите его, как ответ на это задание.<br>
В исходном тексте не встречаются цифры, так что код однозначно интерпретируем.<br>
Примечание. Это первое задание типа Dataset Quiz. В таких заданиях после нажатия "Start Quiz" у вас появляется ссылка "download your dataset". Используйте эту ссылку для того, чтобы загрузить файл со входными данными к себе на компьютер. Запустите вашу программу, используя этот файл в качестве входных данных. Выходной файл, который при этом у вас получится, надо отправить в качестве ответа на эту задачу. 
</p>
<div class="zim-object">
<pre><code class="python">#заготовка для онлайн теста
line = input()
a, d ,r_line= '', '',''
for l in reversed(line):
    if l.isdigit():
        d = l + d
        a = ''
    elif l.isalpha():
        a = l * int(d)
        d = ''
    r_line += a
line = r_line[::-1]
print(line)

#файл:
# coding=utf-8
def decode_str(line):        # функция
    a, d ,r_line= '', '', '' # a - буквы, d - цифры, ещё одна строка 
    for l in reversed(line): # обработка с конца строки, с цифры
        if l.isdigit():		 # l - элемент строки(линии)
            d = l + d
            a = ''
        elif l.isalpha():
            a = l * int(d)
            d = ''
        r_line += a
    r_line = r_line[::-1]    # снова реверс строки с помощью среза (самый быстрый)
    return(r_line)

with open("file.txt", "r") as f:
    s = f.readline()
    
with open("decode.txt", "w") as wf:
    wf.write(decode_str(s))
</code></pre>
</div>
<br>
<br>
<h4>2<a id="2" class="h_anchor"></a></h4>
<p>
Напишите программу, которая считывает текст из файла (в файле может быть больше одной строки) и выводит самое частое слово в этом тексте и через пробел то, сколько раз оно встретилось. Если таких слов несколько, вывести лексикографически первое (можно использовать оператор &lt; для строк).<br>
В качестве ответа укажите вывод программы, а не саму программу.<br>
Слова, написанные в разных регистрах, считаются одинаковыми.
</p>
<div class="zim-object">
<pre><code class="python">def word_count(s):
    dic = {i : s.count(i) for i in s}
    return(s)



with open("file2.txt", "r") as infile:
    for line in infile:
        st = f.readline()
#st = input().lower().split() 
with open("result2.txt", "w") as outfile:
    outfile.write(word_count(s))


#var - 1.0:
def get_key(d, value):
    for k, v in d.items():
        if v == value:
            return k

if __name__ == '__main__':

    with open("in2.txt", "r") as input_file:
        words = input_file.read().lower().split()
        d: dict = {i: words.count(i) for i in words}
        m = max(d.values())
#        print(get_key(d, m), d[get_key(d, m)])
    with open("out2.txt", "w") as output_file:
        output_file.write(f"{get_key(d, m)} {m}")

</code></pre>
</div>
<br>
<br>
<h4>3<a id="3" class="h_anchor"></a></h4>
<div class="zim-object">
<pre><code class="python"># Имеется файл с данными по успеваемости абитуриентов. Он представляет из себя набор строк, где в каждой строке
# записана # следующая информация:
# Фамилия;Оценка_по_математике;Оценка_по_физике;Оценка_по_русскому_языку
# Поля внутри строки разделены точкой с запятой, оценки — целые числа.
# Напишите программу, которая считывает исходный файл с подобной структурой и для каждого абитуриента записывает его
# среднюю оценку по трём предметам на отдельной строке, соответствующей этому абитуриенту, в файл с ответом.
# Также вычислите средние баллы по математике, физике и русскому языку по всем абитуриентам и добавьте полученные
# значения, разделённые пробелом, последней строкой в файл с ответом.
#
# В качестве ответа на задание прикрепите полученный файл со средними оценками по каждому ученику и одной строкой
# со средними оценками по трём предметам.
# Примечание. Для разбиения строки на части по символу ';' можно использовать метод split следующим образом:
# print('First;Second-1 Second-2;Third'.split(';'))
# # ['First', 'Second-1 Second-2', 'Third']
#
# Sample Input:
#
# Петров;85;92;78
# Сидоров;100;88;94
# Иванов;58;72;85
#
# Sample Output:
#
# 85.0
# 94.0
# 71.666666667
# 81.0 84.0 85.666666667

def average_score(pers):
    scr = 0
    for c in range(1, len(pers)):
        scr += int(pers[c])
    aver_scr = (scr / (len(pers) - 1)) #здесь ошибка была, исправил, нужно было отнять 1
    return aver_scr


def sum_column(m, column):
    total = 0
    for row in range(len(m)):
        total += int(m[row][column])
    return total


if __name__ == '__main__':
    with open('result.txt', 'w') as output_file:
        with open('dataset_3363_4.txt', 'r') as input_file:
            tabel = [a.split(';') for a in input_file.read().split()]  # разобрать файл на список списков
            for person in tabel:
                output_file.write(str(average_score(person)) + '\n')
            for j in range(1, len(person)):
                output_file.write(str(sum_column(tabel, j) / len(tabel)) + ' ')


</code></pre>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

            </div>
            <div class="fade fade-bottom"></div>
          </section>

          <footer>
              <a href="#" class="scrollToTop" title="Back to top"><i class="icon icon-uploadalt"></i></a>
          </footer>
        </article>
      </div>
    </main>
  </div>

  <script src="./resources/js/jquery.v2.1.3.min.js"></script>
  <script src="./resources/js/index.js"></script>

</body>
</html>
